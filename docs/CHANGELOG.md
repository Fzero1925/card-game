# 📝 更新日志 (CHANGELOG)

## 版本历史

### [v2.1.1] - 2025-08-30 (开发中) 🔧

#### 🚨 紧急修复
- **GitHub Pages部署问题修复**
  - 发现GitHub Pages仍显示旧版本单游戏Blackjack，用户无法访问完整功能
  - 创建GitHub Actions自动部署工作流程 (`.github/workflows/deploy.yml`)
  - 配置Vite构建基础路径 (`base: '/card-game/'`) 以适配GitHub Pages
  - 解决GitHub Actions版本兼容性问题：
    - 更新 `actions/upload-pages-artifact` v2 → v3
    - 更新 `actions/deploy-pages` v2 → v4
  - 修复npm依赖问题 (`npm ci` → `npm install`)
  - 添加GitHub Pages environment配置

#### 🔧 技术改进
- **构建配置优化**
  - 配置正确的GitHub Pages资源路径
  - 确保CSS和JS资源正确加载
- **GitHub Actions工作流程**
  - 自动化构建和部署流程
  - Node.js 18环境配置
  - 生产构建优化

#### 📋 当前状态
- **Vercel部署**: ✅ 正常 (https://card-game.vercel.app)
- **GitHub Pages**: ⚠️ 待修复 (https://fzero1925.github.io/card-game/)
- **影响**: 用户暂时无法通过GitHub Pages访问德州扑克和AI对话系统

---

### [v2.1.0] - 2025-08-30 🎉

#### ✨ 主要新功能
- **🤖 AI对话系统 - 德州扑克游戏体验革命性升级**
  - 实现22种智能对话触发器
  - 创建3种AI个性化聊天风格：
    - 🛡️ 保守型AI：谨慎理性的语言风格
    - ⚔️ 激进型AI：攻击性话语和心理战术
    - 🧮 数学型AI：基于概率分析的理性表达
  - 智能对话生成算法（基于游戏状态、手牌强度、底池大小）
  - 响应式AI对话面板组件 (AIDialoguePanel.vue)

#### 🎯 技术实现
- **类型安全的对话系统**
  - 完整TypeScript类型定义 (`src/types/game.ts`)
  - 模块化对话内容配置架构 (`src/utils/ai/aiDialogue.ts`)
- **智能触发机制**
  - 游戏状态联动的条件触发
  - 防重复机制和频率控制
  - 时间间隔智能限制
- **多语言对话支持**
  - 中英文AI聊天内容完整本地化
  - 国际化框架集成

#### 🧪 测试覆盖
- **新增15个AI对话专项测试**
  - 对话生成算法测试
  - 个性化差异验证
  - 触发机制验证
  - 多语言内容测试
- **总测试数量：84个** (69→84, 100%通过率)

#### 💫 用户体验提升
- **沉浸式游戏体验**
  - AI对手具备真实的个性和语言风格
  - 游戏过程中的智能评论和反应
  - 增强游戏的娱乐性和挑战性
- **视觉优化**
  - 优雅的对话面板设计
  - 平滑的动画过渡效果
  - 响应式布局适配

---

### [v2.0.0] - 2025-08-29 🚀

#### ✨ 主要功能
- **🃏 完整21点游戏系统**
  - 标准21点规则实现
  - 智能A牌处理 (软17规则)
  - 庄家AI决策逻辑
  - 要牌、停牌、加倍操作
  - 黑杰克特殊情况处理

- **🎰 德州扑克游戏系统**
  - 专业4人桌椭圆形界面设计
  - 完整游戏流程：翻牌前→翻牌→转牌→河牌→摊牌
  - 9种牌型识别算法：高牌到同花顺
  - 3种个性AI对手：保守型、激进型、数学型
  - 智能AI决策引擎

#### 🏗️ 技术架构
- **现代化技术栈**
  - Vue 3 + TypeScript (组合式API)
  - Pinia 状态管理
  - Vue Router 4 + Vue I18n
  - Vite 构建工具
  - Vitest 测试框架

#### 🌍 国际化支持
- **多语言系统**
  - 完整中英文支持
  - 游戏界面本地化
  - 扑克术语翻译
  - 动态语言切换

#### 🎨 用户界面
- **专业游戏体验**
  - 真实赌场级别视觉设计
  - 响应式布局 (桌面+移动)
  - 流畅的交互动画
  - 直观的操作控制

#### 🧪 质量保证
- **完整测试覆盖**
  - 69个单元测试 (100%通过)
  - 21点游戏：40个测试
  - 德州扑克：29个测试
  - 测试驱动开发模式

#### 🚀 性能优化
- **生产环境优化**
  - 模块化代码结构
  - 树摇优化和代码分割
  - Gzip压缩：~73KB总体积
  - 快速构建时间：<4秒

---

## 📊 版本对比

| 版本 | 游戏数量 | AI功能 | 测试数量 | 主要特性 |
|------|----------|--------|----------|----------|
| v2.1.1 | 2 | AI对话系统 | 84 | 🔧 部署修复 |
| v2.1.0 | 2 | AI对话系统 | 84 | 🤖 智能对话 |
| v2.0.0 | 2 | 基础AI对手 | 69 | 🎯 完整游戏 |

---

## 🔮 未来版本规划

### v2.2.0 (计划中)
- 游戏动画优化
- AI策略调优
- 用户体验改进

### v2.3.0 (计划中)
- 德州扑克变体
- 游戏数据统计
- 成就系统

### v3.0.0 (长期规划)
- 斗地主游戏
- 多人在线模式
- 移动端支持

---

## 🐛 已知问题

### v2.1.0 已知问题
- ~~GitHub Pages部署显示旧版本~~ (v2.1.1修复中)
- SASS deprecation warnings (不影响功能)
- GitHub Actions环境权限限制

### 技术债务
- SASS @import 规则需要迁移到 @use
- Dart Sass legacy API更新
- CSS-in-JS颜色函数现代化

---

## 📞 贡献指南

### 报告问题
- GitHub Issues: https://github.com/Fzero1925/card-game/issues
- 请包含详细的复现步骤和环境信息

### 功能建议
- 通过GitHub Issues提交功能请求
- 详细描述期望的功能和使用场景

### 代码贡献
- Fork项目并创建feature分支
- 遵循现有代码风格和规范
- 添加相应的测试用例
- 提交Pull Request前确保所有测试通过

---

## 📄 更新说明

**更新频率**: 根据开发进度和版本发布更新  
**维护者**: Fzero  
**最后更新**: 2025年8月30日  
**文档版本**: 1.0  

---

*📝 本更新日志遵循 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/) 规范*